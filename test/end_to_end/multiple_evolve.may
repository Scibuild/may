import Std from "lib/std.may";

class A {
  x : int;

  constructor(x : int) {
    this.x = x;
  }
}

class B < A {
  y : int;

  constructor(x : int, y : int) {
    super(x);
    this.y = y;
  }
  constructor(y : int) evolves A {
    this.y = y;
  }
}

class C < B {
  constructor() evolves B { }
}

fun main() : unit {
  let a = new A(20);
  if? b = a evolves B(22) {
    if? c = a evolves B(10) {
      Std.String.println("Evolved twice!");
    } else {
      Std.String.println("Evolved once!");
    }
  } else {
    Std.String.println("Did not evolve!");
  }
}